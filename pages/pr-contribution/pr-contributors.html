<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../index.css">

    <title>PR Contributors - Nitra Mitra</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Lora:ital,wght@0,400..700;1,400..700&family=Pacifico&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&family=DM+Serif+Text:ital@0;1&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:wght@300;400;500;600&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png">
    <link rel="manifest" href="../../favicon/site.webmanifest">
    <link rel="mask-icon" href="../../favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="pr-contributor.css">
    <link rel="stylesheet" href="../../css/team-styles.css">

    <link rel="stylesheet" href="../../css/footer.css">
    <link rel="stylesheet" href="../../css/navbar.css">
    <link rel="stylesheet" href="../../css/floating-sidebar.css">

    <!-- scroll -->
    <link rel="stylesheet" href="../../css/scroll-indicator.css">
    <!-- Floating Sidebar JavaScript -->
    <script src="../js/sidebar.js"></script>

</head>
<!-- Scroll Progress Indicator -->
<div class="scroll-progress-container">
    <div class="scroll-progress-bar"></div>
</div>

<!-- NAVBAR DESIGNING -->
<nav>
    <div class="nav-first">
        <button onclick="goBack()" class="back-button">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="logo"><a href="https://www.nitra.ac.in/">NITra <span id="mitra">MITra</span></a></div>
    </div>
    <div class="nav-end">
        <button id="lang-toggle">
            ‡§π‡§ø‡§Ç‡§¶‡•Ä
        </button>
        <img src="images/moon.png" id="mode" alt="Change mode" title="change mode">
    </div>
</nav>

<main class="main-content">
    <div class="hero-section">
        <div class="container">
            <h1 class="service-heading">üèÜ PR Contributors</h1>
            <p class="para">Welcome to the <span>PR Contributors</span> section! This page tracks and celebrates
                all the amazing contributors who have helped improve <span>Nitra Mitra</span> through their pull
                requests. Here you can view contributor rankings, track merged PRs, and see the impact each
                contributor has made to our platform. Thank you to all our <span>contributors</span> for making
                Nitra Mitra better for the entire <span>NITRA Technical Campus</span> community!</p>
        </div>
    </div>

    <div class="content-wrapper">
        <div class="container">
            <div class="pr-container">
                <div class="pr-header">
                    <h2>Our Contributors</h2>
                    <p>Celebrating excellence in open source contributions</p>
                </div>
                <div id="content" class="main-content-area">
                    <!-- <div class="loading">üîÑ Loading contributors...</div> -->
                    <div class="admin-card" id="admin-card"></div>

                    <h2 class="heading"> GSSoC '25 Contributors</h2>
                    <div id="gsoc-container" class="contributors-container"></div>

                    <h2 class="heading"> OSCI '25 Contributors</h2>
                    <div id="osci-container" class="contributors-container"></div>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- 
<footer class="footer-section">
    <div class="container">
        <h1 class="contact-heading">Contact Us</h1>

        <div class="contact-grid">
            <div class="contact-item">
                <a href="https://wa.me/919999999999" target="_blank" class="contact-link">
                    <i class="fab fa-whatsapp"></i>
                    <span>Whatsapp Community</span>
                    <p>Nitra Mitra</p>
                </a>
            </div>

            <div class="contact-item">
                <a href="mailto:nitramitra@gmail.com" class="contact-link">
                    <i class="fas fa-envelope"></i>
                    <span>Email</span>
                    <p>nitramitra@gmail.com</p>
                </a>
            </div>

            <div class="contact-item">
                <a href="https://www.google.com/maps?q=Sanjay+Nagar,+Ghaziabad" target="_blank"
                    class="contact-link">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Address</span>
                    <p>Sanjay Nagar, Ghaziabad, India</p>
                </a>
            </div>
        </div>

        <div class="social-media">
            <a href="https://youtube.com/@my.vlog_spot" target="_blank"><i class="fab fa-youtube"></i></a>
            <a href="https://www.linkedin.com/in/vaibhavbabele" target="_blank"><i class="fab fa-linkedin"></i></a>
            <a href="https://www.instagram.com/my_vlog.spot/" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
        </div>

        <div class="footer-links">
            <a href="../privacy.html">Privacy Policy</a> |
            <a href="../terms.html">Terms & Conditions</a> |
            <a href="../contact.html">Contact</a> |
            <a href="pr-contributors.html">Contributors</a>
        </div>

        <p class="copyright">
            &copy; <span id="year"></span> 2025 Nitra Mitra. All Rights Reserved.
        </p>
    </div>

    </div>

    </section>
</footer> -->

<br>

<div style="text-align: center;">
    <h4 color="white">Total Visitors</h4>
    <script type="text/javascript"></script>
    <script type="text/javascript" src="https://www.freevisitorcounters.com/en/home/counter/1204905/t/13"></script>
</div>

<br>
<br>


<!-- Team injected by shared script -->
<div id="team-section" class="team-showcase"></div>

<script src="../../index.js"></script>

<script>
    const ADMIN = { username: "Vaibhav Babele", avatar_url: "https://github.com/VAIBHAVBABELE.png", role: "Project Admin" };
    const gsocContainer = document.getElementById("gsoc-container");
    const osciContainer = document.getElementById("osci-container");
    const adminCardDiv = document.getElementById("admin-card");

    adminCardDiv.innerHTML = `
    <img src="${ADMIN.avatar_url}" alt="${ADMIN.username}" class="avatar">
    <h3>${ADMIN.username}</h3>
    <p>${ADMIN.role}</p>
`;

    function renderContributors(contributors, container, program) {
        container.innerHTML = "";


        contributors.sort((a, b) => b.totalPoints - a.totalPoints);

        contributors.forEach((c, index) => {
            const rank = index + 1; // rank based on points


            let levelNum;
            if (c.totalPoints < 50) levelNum = 1;       // Beginner
            else if (c.totalPoints < 100) levelNum = 2; // Intermediate
            else levelNum = 3;                           // Advanced

            // Prepare level badges
            let levelsHTML = "";
            for (let key in c.levelCounts) {
                let cls = key === "Level1" ? "level-L1" :
                    key === "Level2" ? "level-L2" :
                        key === "Level3" ? "level-L3" :
                            key === "Easy" ? "level-Easy" :
                                key === "Intermediate" ? "level-Intermediate" :
                                    "level-Hard";
                levelsHTML += `<span class="level-badge ${cls}">${key}: ${c.levelCounts[key]}</span>`;
            }

            // Create contributor card
            const card = document.createElement("div");
            card.classList.add("contributor-card");

            card.innerHTML = `
            <img src="https://github.com/${c.username}.png" onerror="this.src='https://via.placeholder.com/90'" class="avatar" alt="${c.username}">
            <h3>${c.username}</h3>
            <p>PRs Merged: ${c.prsMerged}</p>
            <p>Total Points: ${c.totalPoints}</p>
            <div>${levelsHTML}</div>
            <a href="../certificate/certificate.html?name=${encodeURIComponent(c.username)}&prs=${c.prsMerged}&score=${c.totalPoints}&level=${levelNum}&rank=${index + 1}&program=${c.program}" class="certificate-link" target="_blank">Download Certificate</a>
        `;

            container.appendChild(card);
        });
    }

    async function fetchLeaderboard() {
        try {
            const response = await fetch("../../LEADERBOARD.md");
            if (!response.ok) { console.error("Leaderboard file not found"); return; }
            const text = await response.text();
            const lines = text.split("\n");

            const gsocContributors = [];
            const osciContributors = [];
            let currentProgram = null;

            lines.forEach(line => {
                line = line.trim();
                if (line.startsWith("## üå∏ GSSoC")) { currentProgram = "gsoc"; return; }
                if (line.startsWith("## üöÄ OSCI")) { currentProgram = "osci"; return; }

                // Match markdown table line
                const mdLineRegex = /^\|\s*\[@?([\w-]+)\]/;
                const match = line.match(mdLineRegex);
                if (!match) return;

                const username = match[1];
                const parts = line.split("|").map(p => p.trim());

                let levelCounts = {}, prsMerged = 0, totalPoints = 0;
                if (currentProgram === "gsoc") {
                    levelCounts = {
                        Level1: parseInt(parts[3]) || 0,
                        Level2: parseInt(parts[4]) || 0,
                        Level3: parseInt(parts[5]) || 0
                    };
                    prsMerged = parseInt(parts[6]) || 0;
                    totalPoints = parseInt(parts[7]) || 0;
                } else if (currentProgram === "osci") {
                    levelCounts = {
                        Easy: parseInt(parts[3]) || 0,
                        Intermediate: parseInt(parts[4]) || 0,
                        Hard: parseInt(parts[5]) || 0
                    };
                    prsMerged = parseInt(parts[6]) || 0;
                    totalPoints = parseInt(parts[7]) || 0;
                }

                const contributor = { username, prsMerged, totalPoints, program: currentProgram, levelCounts };
                if (currentProgram === "gsoc") gsocContributors.push(contributor);
                else osciContributors.push(contributor);
            });

            renderContributors(gsocContributors, gsocContainer);
            renderContributors(osciContributors, osciContainer);

        } catch (error) {
            console.error("Error fetching leaderboard:", error);
        }
    }

    window.onload = fetchLeaderboard;
    // Refresh leaderboard every 1 minutes (300,000 ms)
    setInterval(fetchLeaderboard, 60 * 1000);
</script>

<!-- Google Translate -->
<div id="google_translate_element" style="display:none;"></div>
<script src="../../language.js"></script>

<!-- Load team script (injects team section) -->
<script src="../../js/team-script.js"></script>

<!-- scroll -->
<script src="../../js/scroll-indicator.js"></script>
<script src="../../js/footer.js"></script>
</body>

</html>