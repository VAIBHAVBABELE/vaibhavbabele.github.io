<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Load configuration first for security and maintainability -->
    <script src="js/config.js"></script>
    <!-- Analytics and ads will be loaded dynamically with error handling -->
    <script src="js/analytics.js"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Assistant - Nitra Mitra</title>
    <!-- External CSS with SRI hashes for security -->
    <link rel="stylesheet" 
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer">
    <link rel="stylesheet" 
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
    
    <!-- Google Fonts with crossorigin for security -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Lora:ital,wght@0,400..700;1,400..700&family=Pacifico&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="../../index.css">
    <link rel="stylesheet" href="assistant.css">
    <link rel="stylesheet" href="../../css/team-styles.css">
    <link rel="stylesheet" href="../floating-button.css">
    <link rel="stylesheet" href="../../css/footer.css">
    <link rel="stylesheet" href="../paper.css">
    <link rel="stylesheet" href="../../css/floating-sidebar.css">
    <link rel="stylesheet" href="../../css/scroll-indicator.css" />

    <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png">
    <link rel="manifest" href="../../favicon/site.webmanifest">
    <link rel="mask-icon" href="../../favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
</head>

<body id="onload">

    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress-container">
        <div class="scroll-progress-bar"></div>
    </div>

      <!-- NAVBAR DESIGNING -->
    <nav>
        <div class="nav-first">
            <button onclick="goBack()" class="back-button">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="logo"><a href="https://www.nitra.ac.in/">NITra <span id="mitra">MITra</span></a></div>
        </div>
        <div class="nav-end">
            <button id="lang-toggle">
                à¤¹à¤¿à¤‚à¤¦à¥€
            </button>
            <img src="images/moon.png" id="mode" alt="Change mode" title="change mode">
        </div>
    </nav>
    
        <!-- STUDENT ASSISTANT SECTION -->
        <section class="assistant-section" id="assistant">
            <div class="container">
                <h1 class="service-heading">Student Assistant</h1>
                <p class="para">Meet your AI-powered <span>Student Assistant</span> from <span>Nitra Mitra</span>!
                    Get instant help with your academic queries, study tips, exam preparation, and more.
                    Our intelligent assistant is here to support <span>NITRA Technical Campus</span> and
                    <span>AKTU</span> students 24/7. Ask questions about subjects, get study guidance,
                    or seek help with assignments. Start chatting and enhance your learning experience with
                    <span>Nitra Mitra's</span> smart assistant!
                </p>

                <div class="chatbot-container">
                    <div class="chat-header">
                        <div class="assistant-info">
                            <div class="assistant-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="assistant-details">
                                <h3>Nitra Assistant</h3>
                                <span class="status online">Online</span>
                            </div>
                        </div>
                        <div class="chat-actions">
                            <button class="clear-chat-btn" onclick="clearChat()" title="Clear Chat">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="config-btn" onclick="showConfiguration()" title="Configure Assistant">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <div class="message assistant-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="markdown-content">
                                    <p><strong>Hello! I'm your Nitra Assistant.</strong> ðŸ¤–</p>
                                    <p>I'm here to help you with:</p>
                                    <ul>
                                        <li><strong>Academic queries</strong> - Subject explanations, concepts, and
                                            problem solving</li>
                                        <li><strong>Study tips</strong> - Effective learning strategies and time
                                            management</li>
                                        <li><strong>AKTU & NITRA</strong> - Campus-specific information and guidance
                                        </li>
                                        <li><strong>Career guidance</strong> - Placement preparation and skill
                                            development</li>
                                    </ul>
                                    <p><em>How can I assist you today?</em></p>
                                </div>
                                <span class="message-time">Just now</span>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-container">
                        <div class="quick-suggestions" id="quickSuggestions">
                            <button class="suggestion-btn"
                                onclick="sendQuickMessage('Tell me about AKTU exam pattern')">
                                AKTU Exam Pattern
                            </button>
                            <button class="suggestion-btn"
                                onclick="sendQuickMessage('Study tips for engineering students')">
                                Study Tips
                            </button>
                            <button class="suggestion-btn" onclick="sendQuickMessage('Help with project ideas')">
                                Project Ideas
                            </button>
                            <button class="suggestion-btn"
                                onclick="sendQuickMessage('Career guidance for B.Tech students')">
                                Career Guidance
                            </button>
                        </div>

                        <div class="input-wrapper">
                            <textarea id="messageInput" placeholder="Type your question here..." rows="1"
                                onkeypress="handleKeyPress(event)"></textarea>
                            <button id="sendButton" onclick="sendMessage()" disabled>
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- API Key Setup Section -->
                <div class="api-setup" id="apiSetup">
                    <div class="setup-card">
                        <h3><i class="fas fa-key"></i> Assistant Configuration</h3>

                        <!-- Backend Mode Toggle -->
                        <div class="mode-selector">
                            <p>Choose how you want to use the assistant:</p>
                            <div class="mode-options">
                                <label class="mode-option">
                                    <input type="radio" name="backendMode" value="server" id="serverMode" checked>
                                    <span class="mode-label">
                                        <i class="fas fa-server"></i>
                                        <strong>Server Mode</strong>
                                        <small>Use our hosted backend (recommended)</small>
                                    </span>
                                </label>
                                <label class="mode-option">
                                    <input type="radio" name="backendMode" value="client" id="clientMode">
                                    <span class="mode-label">
                                        <i class="fas fa-key"></i>
                                        <strong>Personal API Key</strong>
                                        <small>Use your own Gemini API key</small>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- Server Mode Info -->
                        <div class="server-mode-info" id="serverModeInfo">
                            <div class="info-card">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <h4>Ready to Chat!</h4>
                                    <p>Our backend is configured and ready. Just start asking questions!</p>
                                </div>
                            </div>
                            <button onclick="startChatting()" class="primary-button">Start Chatting</button>
                        </div>

                        <!-- Client Mode Setup -->
                        <div class="client-mode-setup" id="clientModeSetup" style="display: none;">
                            <p>To use your personal API key, please enter your Gemini API key:</p>
                            <div class="api-input-group">
                                <input type="password" id="apiKeyInput" placeholder="Enter your Gemini API key">
                                <button onclick="saveApiKey()" class="primary-button">Save Key</button>
                            </div>
                            <div class="api-help">
                                <p><small>
                                        <i class="fas fa-info-circle"></i>
                                        Get your free API key from <a href="https://makersuite.google.com/app/apikey"
                                            target="_blank">Google AI Studio</a>
                                    </small></p>
                                <p><small>
                                        <i class="fas fa-shield-alt"></i>
                                        Your API key is stored locally and never sent to our servers
                                    </small></p>
                            </div>
                        </div>

                        <!-- Backend Status -->
                        <div class="backend-status" id="backendStatus" style="display: none;">
                            <p><small>
                                    <span id="statusIndicator">ðŸ”„</span>
                                    <span id="statusText">Checking backend status...</span>
                                </small></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ABOUT SECTION -->
        <section class="about" id="about">
            <h1 class="service-heading">About Student Assistant</h1>
            <p class="para">Our <span>AI-powered Student Assistant</span> is designed specifically for
                <span>NITRA Technical Campus</span> students. Using advanced AI technology, it provides
                personalized academic support, study guidance, and instant answers to your queries.
                Whether you need help with assignments, exam preparation, or career guidance,
                our assistant is here to help you succeed in your <span>B.Tech journey</span>.
            </p>

            <div class="about-flex">
                <div class="About-card">
                    <div class="icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h2 class="name">Smart AI</h2>
                    <p>Powered by Google's Gemini AI for intelligent responses</p>
                </div>

                <div class="About-card">
                    <div class="icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h2 class="name">24/7 Available</h2>
                    <p>Get help anytime, anywhere with instant responses</p>
                </div>

                <div class="About-card">
                    <div class="icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h2 class="name">Academic Focus</h2>
                    <p>Specialized in helping NITRA and AKTU students</p>
                </div>

                <div class="About-card">
                    <div class="icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h2 class="name">Privacy First</h2>
                    <p>Your conversations are private and secure</p>
                </div>
            </div>
        </section>

    <!-- Team injected by shared script -->
    <div id="team-section"></div>

        <!-- Modern footer will be injected here by footer.js -->
    


    <!-- Scripts -->
    <!-- External JavaScript libraries with SRI hashes for security -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js" 
            integrity="sha384-Kw1tDpYBxDqRQGx1wIGzD8YPH9HuXITnXaOWYXZ2hGfFrFjPBE1bfgR1YMeJ2MUf"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"
            integrity="sha384-PMq/JjkTWBNq0Yy4cIfZJOOGHe/7FlqeE1C3oeKyE/zHtqRGt/UaNqDhf2fj/j1k"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    
    <!-- Local scripts -->
    <script src="../floating-button.js"></script>
    <script src="../../index.js"></script>
    <!-- Floating sidebar script (loaded after DOM and other scripts) -->
    <script src="../../js/sidebar.js"></script>
    <script src="assistant.js"></script>
    <!-- Google Translate -->
<div id="google_translate_element" style="display:none;"></div>

    <script src="../../language.js"></script>
    <!-- Load team script (injects team section) -->
    <script src="../../js/team-script.js"></script>
    <script src="../../js/scroll-indicator.js"></script>
    <script src="../../js/footer.js"></script>
</body></html>